<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Breakfast Menu</title>
    <style>
        body {
            font-family: Arial;
            margin: 40px;
        }

        .header {
            background-color: #e5f3ff;
            padding: 10px;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 1.2em;
        }

        .module {
            background-color: #ffffc2;
            padding: 10px;
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 1.1em;
        }

        .step-info {
            margin-bottom: 10px;
            padding: 10px;
            background-color: #f0f8ff;
            border-left: 5px solid #0077b6;
            font-size: 0.95em;
        }

        .item {
            background-color: #006666;
            color: white;
            padding: 10px;
            margin-bottom: 2px;
        }

        .desc {
            background-color: #f2f2f2;
            padding: 10px;
            font-style: italic;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        .desc2 {
            background-color: #f2f2f2;
            padding: 10px;
            
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .result-count {
            margin-bottom: 10px;
            font-weight: normal;
        }

        .section {
            margin-bottom: 40px;
        }

        .sub-section {
            background-color: #eef;
            padding: 10px;
            margin-top: 10px;
        }

        .sub-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>

    <!-- STEP A -->
    <div class="section">
        <div class="module">A.	All contents of the XML document in the format shown below:</div>
        <div class="result-count" id="resultCountA"></div>
        <div id="stepA"></div>
    </div>

    <!-- STEP B -->
    <div class="section">
        <div class="module">B.	Food whose price is greater than $5.00</div>
        <div class="result-count" id="resultCountB"></div>
        <div id="stepB"></div>
    </div>

    <!-- STEP C -->
    <div class="section">
        <div class="module">C. Food whose calorie does not exceed 700 cal.</div>
        <div class="result-count" id="resultCountC2"></div>
        <div id="stepC2"></div>
    </div>

    <script>
        let foodsData = [];

        fetch('menu.xml')
            .then(response => response.text())
            .then(str => (new window.DOMParser()).parseFromString(str, "text/xml"))
            .then(data => {
                const foods = data.getElementsByTagName('food');

                // Step A: Load all food items
                for (let food of foods) {
                    const name = food.getElementsByTagName('name')[0].textContent;
                    const price = parseFloat(food.getElementsByTagName('price')[0].textContent.replace('$', ''));
                    const description = food.getElementsByTagName('description')[0].textContent;
                    const calories = parseInt(food.getElementsByTagName('calories')[0].textContent);
                    foodsData.push({ name, price, description, calories });
                }

                // Display Step A
                const stepADiv = document.getElementById('stepA');
                document.getElementById('resultCountA').innerText ;
                foodsData.forEach(item => {
                    stepADiv.innerHTML += `
                            <div class="item"><strong>${item.name}</strong> - $${item.price.toFixed(2)}</div>
                            <div class="desc2">${item.description} <em>(${item.calories} calories per serving)</em> </div>
                        `;
                });

                // Step B: Filter price > $5.00
                const stepB = foodsData.filter(item => item.price > 5.00);
                const stepBDiv = document.getElementById('stepB');
                document.getElementById('resultCountB').innerText;
                stepB.forEach(item => {
                    stepBDiv.innerHTML += `
                            <div class="item"><strong>${item.name}</strong> - $${item.price.toFixed(2)}</div>
                            <div class="desc2">${item.description} <em>(${item.calories} calories per serving)</em> </div>
                        `;
                });

                // Step C: From Step B, calories â‰¤ 700
                const stepC1 = stepB.filter(item => item.calories <= 700);
                const stepC2Div = document.getElementById('stepC2');
                document.getElementById('resultCountC2').innerText;
                stepC1.forEach(item => {
                    stepC2Div.innerHTML += `
                           <div class="item"><strong>${item.name}</strong> - $${item.price.toFixed(2)}</div>
                            <div class="desc2">${item.description} <em>(${item.calories} calories per serving)</em> </div>
                            
                        `;
                });
            });
    </script>

</body>
</html>
